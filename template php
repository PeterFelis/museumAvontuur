<div class='post-container' style='background-color: <?php echo esc_attr(get_post_meta(get_the_ID(), 'museum_background_color', true)); ?>;'>


<div class='oxy-post' style="transform: rotate(<?php echo rand(-4, 4); ?>deg);">


    
    <!-- Titel van het Post is ook de museum naam-->
    <h2 class='oxy-post-title' href='<?php the_permalink(); ?>'><?php the_title(); ?></h2>

    <!-- Link naar de Museum Website -->
    <a href='<?php echo esc_url(get_post_meta(get_the_ID(), 'museum_url', true)); ?>' class='oxy-post-museum-url' target="_blank">Bezoek site van <?php the_title(); ?></a>

    <!-- Link naar Google Maps -->
    <a href='<?php echo esc_url(get_post_meta(get_the_ID(), 'museum_maps', true)); ?>' class='oxy-post-museum-maps' target="_blank">Bekijk op Google Maps</a>

    <!-- Post Content/Beoordeling -->
    <div class='oxy-post-content'>
        <?php the_content(); ?>
    </div>

    <div class='oxy-post-images-lint-wrapper' id='post-images-<?php echo get_the_ID(); ?>'>
        <div class="scroll-arrow left-arrow">&lt;</div>
        <div class='oxy-post-images-lint'>
            <?php
            $image_ids = get_post_meta(get_the_ID(), 'museum_review_images', true);
            if ($image_ids) {
                $ids = explode(',', $image_ids);
                foreach ($ids as $id) {
                    echo wp_get_attachment_image($id, 'full');
                }
            }
            ?>
        </div>
        <div class="scroll-arrow right-arrow">&gt;</div>
      <div class='oxy-post-image-count'>
    Aantal foto's: <?php echo count($ids); ?>
</div>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const scrollContainer = document.querySelector('#post-images-<?php echo get_the_ID(); ?> .oxy-post-images-lint');
        const leftArrow = document.querySelector('#post-images-<?php echo get_the_ID(); ?> .left-arrow');
        const rightArrow = document.querySelector('#post-images-<?php echo get_the_ID(); ?> .right-arrow');

        leftArrow.addEventListener('click', () => {
            scrollContainer.scrollBy({ left: -200, behavior: 'smooth' });
        });

        rightArrow.addEventListener('click', () => {
            scrollContainer.scrollBy({ left: 200, behavior: 'smooth' });
        });
    });
    </script>

</div>
</div>